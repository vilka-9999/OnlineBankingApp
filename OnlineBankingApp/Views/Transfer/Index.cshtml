@{
    ViewData["Title"] = "Transfer Funds";
    var accounts = ViewBag.Accounts as List<OnlineBankingApp.Models.Account>;
}

<h2>Transfer Funds</h2>

<!-- Display validation errors -->
@if (TempData["TransferUnsuccess"] != null)
{
    <p class="alert alert-danger">@TempData["TransferUnsuccess"]</p>
}

<form asp-action="Index" method="post">
    <!-- Dropdown for sender accounts -->
    <div class="form-group">
        <label for="senderAccountId">Select Your Account</label>
        <select class="form-control" id="senderAccountId" name="senderAccountId">
            @if (accounts != null)
            {
                foreach (var account in accounts)
                {
                    <option value="@account.AccountId">
                        @account.AccountNumber - @account.Bank (Balance: $@account.AccountBalance)
                    </option>
                }
            }
        </select>
    </div>

    <!-- Receiver account number -->
    <div class="form-group">
        <label for="receiverAccountNumber">Receiver Account Number</label>
        <input type="number" class="form-control" id="receiverAccountNumber" name="receiverAccountNumber" required />
    </div>

    <!-- Transfer amount -->
    <div class="form-group">
        <label for="transferAmount">Amount to Transfer</label>
        <input type="number" step="0.01" class="form-control" id="transferAmount" name="transferAmount" required />
    </div>

    <!-- Submit button -->
    <button type="submit" class="btn btn-primary">Transfer</button>
</form>
